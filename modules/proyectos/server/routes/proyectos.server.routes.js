'use strict';

/**
 * Module dependencies
 */
var proyectosPolicy = require('../policies/proyectos.server.policy'),
  proyectos = require('../controllers/proyectos.server.controller');

module.exports = function(app) {
  // Proyectos Routes
  app.route('/api/proyectos').all(proyectosPolicy.isAllowed)
    .get(proyectos.list)
    .post(proyectos.create);

  app.route('/api/proyectos/:proyectoId').all(proyectosPolicy.isAllowed)
    .get(proyectos.read)
    .put(proyectos.update)
    .delete(proyectos.delete);

  // Finish by binding the Proyecto middleware
  app.param('proyectoId', proyectos.proyectoByID);
};
