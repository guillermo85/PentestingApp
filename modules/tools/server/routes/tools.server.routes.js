'use strict';

/**
 * Module dependencies
 */
var toolsPolicy = require('../policies/tools.server.policy'),
  tools = require('../controllers/tools.server.controller');

module.exports = function(app) {
  // Tools Routes
  app.route('/api/tools').all(toolsPolicy.isAllowed)
    .get(tools.list)
    .post(tools.create);

  app.route('/api/tools/:toolId').all(toolsPolicy.isAllowed)
    .get(tools.read)
    .put(tools.update)
    .delete(tools.delete);

  // Finish by binding the Tool middleware
  app.param('toolId', tools.toolByID);
};
